- model_class = Request
.page-header
	%h1=t '.title', :default => model_class.model_name.human.pluralize.titleize

- if !@incoming_requests.empty?
	%h3 Incoming Requests
	%table.table.table-striped
		%thead
			%tr
				%th= model_class.human_attribute_name(:id)
				%th= "Driver ID"
				%th= "Driver Name"
				%th= model_class.human_attribute_name(:ride_id)
				%th= "Passenger ID"
				%th= model_class.human_attribute_name(:passenger)
				%th= model_class.human_attribute_name(:ignore)
				%th= model_class.human_attribute_name(:created_at)
				%th=t '.actions', :default => t("helpers.actions")
		%tbody
			- @incoming_requests.each do |request| 
				%tr
					%td= link_to request.id, request_path(request)
					%td= request.user_id
					%td= request.ride.user.name
					%td= request.ride_id
					%td= request.passenger_id
					%td= request.passenger
					%td= request.ignore
					%td= request.created_at
					%td
						= link_to t('.edit', :default => t("helpers.links.edit")), edit_request_path(request), :class => 'btn btn-default btn-xs'
						= link_to t('.destroy', :default => t("helpers.links.destroy")), request_path(request), :method => :delete, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-xs btn-danger'
- else
	%h3 Incoming Requests
	"Sorry no requests to ride with you yet :(" 
	%br

- if !@outgoing_requests.empty?
	%h3 Outgoing Requests
	%table.table.table-striped
		%thead
			%tr
				%th= model_class.human_attribute_name(:id)
				%th= "Driver ID"
				%th= "Driver Name"
				%th= model_class.human_attribute_name(:ride_id)
				%th= "Passenger ID"
				%th= model_class.human_attribute_name(:passenger)
				%th= model_class.human_attribute_name(:ignore)
				%th= model_class.human_attribute_name(:created_at)
				%th=t '.actions', :default => t("helpers.actions")
		%tbody
			- @outgoing_requests.each do |request| 
				%tr
					%td= link_to request.id, request_path(request)
					%td= request.user_id
					%td= request.ride.user.name
					%td= request.ride_id
					%td= request.passenger_id
					%td= request.passenger
					%td= request.ignore
					%td= request.created_at
					%td
						= link_to t('.edit', :default => t("helpers.links.edit")), edit_request_path(request), :class => 'btn btn-default btn-xs'
						= link_to t('.destroy', :default => t("helpers.links.destroy")), request_path(request), :method => :delete, :data => { :confirm => t('.confirm', :default => t("helpers.links.confirm", :default => 'Are you sure?')) }, :class => 'btn btn-xs btn-danger'
- else
	%h3 Outgoing Requests
	"You have not sent out any requests to ride with other people :("



